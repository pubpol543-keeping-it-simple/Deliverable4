D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white')) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + theme(plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5))
D1Plot
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`Max..Teacher.Count`),]$`Demographic Category`)
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`MaxTeacherCount`),]$`DemographicCategory`)
#Changing theme to classic
plot6= D1Plot + scale_x_discrete(limits=DemographicCategoryOrd)
plot6
View(plot6)
View(plot6)
View(base)
View(base)
View(plot6)
View(D1Plot)
View(D1Plot)
D1Plot
plot6
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
D1Plot
?head
#clean memory
rm(list = ls())
#load libraries
library(tidyverse)
library(scales)
#load data
D1data=read.csv("D1_Data.csv")
#create base plot
base= ggplot(data = D1data,
aes(x = `DemographicCategory`,
y = `MaxTeacherCount`))
#plot formating
titleText='Washington Educators Are Overwhelmingly White'
sourceText='Source: Washington Office of Superindentent of Public Instruction 2020-2021 School Year (self reported data)'
LABELS=D1data$`MaxTeacherPercent`
LABELS=paste0(format(round(D1data$`MaxTeacherCount`,2), big.mark = ','),'\n(',D1data$`MaxTeacherPercent`, ')')
D1data=D1data[order(D1data$`MaxTeacherCount`),]
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`MaxTeacherCount`),]$`DemographicCategory`)
LABELS
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
View(D1data)
View(D1data)
View(D1data)
?format
LABELS=paste0(round(',D1data$`MaxTeacherPercent`, '),'%')
LABELS=paste0(round(',D1data$`MaxTeacherPercent`,2),'%')
LABELS=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
# clean memory
rm(list = ls())
#load libraries
library(tidyverse)
# clean memory
rm(list = ls())
#load data
df1 <- read_csv("Data/D1-TeacherDemographics.csv")
#clean & set up data
str(df1,width = 70,strict.width='cut')
df1$`MaxTeacherPercent` <- parse_number(df1$`MaxTeacherPercent`)
head(df1$`MaxTeacherCount`,20)
absoluteT=table(df1$`MaxTeacherCount`,
exclude = 'nothing')
dfrace <- df1[df1$`DemographicCategoryType`=="RaceEthnicity",]
renamevar <- function(varname){
case_when(varname=='Native Hawaiian/Other Pacific Islander' ~ 'Pacific Islander',
varname=='American Indian/Alaskan Native' ~ 'Indigenous',
varname=='Black/African American' ~'Black',
varname=='Two or More Races' ~ 'Multiracial',
varname=='Hispanic/Latino of any race(s)' ~ 'Latinx',
TRUE ~ varname)
}
dfrace$`DemographicCategory` <- sapply(dfrace$`DemographicCategory`, FUN = renamevar)
#save data frame
write.csv(dfrace,"D1_Data.csv",row.names = F)
#load libraries
library(tidyverse)
library(scales)
#clean memory
rm(list = ls())
#load data
D1data=read.csv("D1_Data.csv")
#create base plot
base= ggplot(data = D1data,
aes(x = `DemographicCategory`,
y = `MaxTeacherCount`))
#plot formating
titleText='Washington Educators Are Overwhelmingly White'
sourceText='Source: Washington Office of Superindentent of Public Instruction 2020-2021 School Year (self reported data)'
LABELS=D1data$`MaxTeacherPercent`
LABELS=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
LABELS=paste0(format(round(D1data$`MaxTeacherCount`,2), big.mark = ','),'\n(',D1data$`MaxTeacherPercent`, ')')
D1data=D1data[order(D1data$`MaxTeacherCount`),]
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`MaxTeacherCount`),]$`DemographicCategory`)
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
library(flexdashboard)
readRDS("D1Plot.rds")
LABELS=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
#load libraries
library(tidyverse)
library(scales)
#clean memory
rm(list = ls())
#load data
D1data=read.csv("D1_Data.csv")
#create base plot
base= ggplot(data = D1data,
aes(x = `DemographicCategory`,
y = `MaxTeacherCount`))
#plot formating
titleText='Washington Educators Are Overwhelmingly White'
sourceText='Source: Washington Office of Superindentent of Public Instruction 2020-2021 School Year (self reported data)'
LABELS=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
D1data=D1data[order(D1data$`MaxTeacherCount`),]
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`MaxTeacherCount`),]$`DemographicCategory`)
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = LABELS))
D1Plot
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
readRDS("D1Plot.rds")
PcntLabels=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = PcntLabels))
D1Plot
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
readRDS("D1Plot.rds")
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(D1data$`MaxTeacherPercent`,2),'%')))
D1Plot
D1Plot
```{r save-EducatorDemographics, echo=FALSE}
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
readRDS("D1Plot.rds")
PctLabels=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
D1data=D1data[order(D1data$`MaxTeacherCount`),]
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`MaxTeacherCount`),]$`DemographicCategory`)
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = PctLabels))
D1Plot
D1Plot
```{r save-EducatorDemographics, echo=FALSE}
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
#load data
df2 <- read_csv("Data/D2-StudentEnrollmentSummary.csv")
df3 <- read_csv("Data/D2-TeacherDemographicsSummary.csv")
#load data
df_students <- read_csv("Data/D2-StudentEnrollmentSummary.csv")
df_educators <- read_csv("Data/D2-TeacherDemographicsSummary.csv")
# clean memory
rm(list = ls())
#load data
df_students <- read_csv("Data/D2-StudentEnrollmentSummary.csv")
df_educators <- read_csv("Data/D2-TeacherDemographicsSummary.csv")
#clean & set up data
dfrace_educators <- df_educators[df_educators$`Demographic Category Type`=="RaceEthnicity",]
dfrace_students <- df_students [df_students$`Student Group Type`=="federalethracerollupcode",]
dfrace_educators$Percent <- as.numeric(gsub("%","",dfrace_educators$`Max. Teacher Percent`))/100
CountAllStudents <- sum(dfrace_students$`Number Of Students`)
dfrace_students$Percent <- dfrace_students$`Number Of Students`/CountAllStudents
#merging data frames
dfrace_educators$Role <-'Educator'
dfrace_students$Role <-'Student'
dfrace_educators <-dfrace_educators %>%
rename(
RaceEthnicity =`Demographic Category`,
Count =`Max. Teacher Count`
)
dfrace_students <-dfrace_students %>%
rename(
RaceEthnicity =`Student Group`,
Count =`Number Of Students`
)
dfrace_educators <-dfrace_educators %>%
select(RaceEthnicity, Count, Role, Percent)
dfrace_students <-dfrace_students %>%
select(RaceEthnicity, Count, Role, Percent)
df2 <- union_all(dfrace_educators, dfrace_students)
#Rename variable names
renamevar <- function(varname){
case_when(varname=='Native Hawaiian/Other Pacific Islander' ~ 'Pacific Islander',
varname=='Native Hawaiian/ Other Pacific Islander' ~ 'Pacific Islander',
varname=='American Indian/Alaskan Native' ~ 'Indigenous',
varname=='American Indian/ Alaskan Native' ~ 'Indigenous',
varname=='Black/African American' ~'Black',
varname=='Black/ African American' ~'Black',
varname=='Two or More Races' ~ 'Multiracial',
varname=='Hispanic/Latino of any race(s)' ~ 'Latinx',
varname=='Hispanic/ Latino of any race(s)' ~ 'Latinx',
TRUE ~ varname)
}
d2$RaceEthnicity <- sapply(d2$RaceEthnicity, FUN = renamevar)
df2$RaceEthnicity <- sapply(df2$RaceEthnicity, FUN = renamevar)
View(df2)
View(df2)
#save data frame
write.csv(df2,"D2_Data.csv",row.names = F)
# clean memory
rm(list = ls())
#load data
D2data=read.csv("D2_Data.csv")
#create base plot
baseBar = ggplot(D2data, aes(x=Percent, y=RaceEthnicity))
barPlot = baseBar + geom_bar(stat = "identity")
barPlot
#create base plot
barPlot = ggplot(D2data, aes(x=Percent, y=RaceEthnicity)) + geom_bar(stat = "identity")
barPlot
#create base plot
base = ggplot(D2data, aes(x=Percent, y=RaceEthnicity)) + geom_bar(stat = "identity")
#plot formatting
titleText = 'Students Are Far More Diverse Than Educators In Washington'
sourceText = 'Source: Washington Office of Superindentent of Public Instruction 2020-2021 School Year (self reported data)'
#create final plot
D2Plot = base + facet_grid(~Role)
#create base plot
base = ggplot(D2data, aes(x=Percent, y=reorder(RaceEthnicity, Percent),))
#plot formatting
titleText = 'Students Are Far More Diverse Than Educators In Washington'
sourceText = 'Source: Washington Office of Superindentent of Public Instruction 2020-2021 School Year (self reported data)'
#create final plot
D2Plot = base +
theme_minimal() + theme(panel.spacing = unit(2, "lines")) +
geom_bar(stat = "identity") + facet_grid(~Role)
D2Plot
#create final plot
D2Plot = base +
theme_minimal() + theme(panel.spacing = unit(2, "lines")) +
geom_bar(stat = "identity") + facet_grid(~Role) +
geom_text(size=3,aes(label=100*round(Percent,3)),nudge_x=0.05) +
scale_x_continuous(labels=percent_format(accuracy=1,suffix=""))
D2Plot
#create final plot
D2Plot = base +
theme_minimal() + theme(panel.spacing = unit(2, "lines")) +
geom_bar(stat = "identity") + facet_grid(~Role) +
geom_text(size=3,aes(label=100*round(Percent,3)),nudge_x=0.05) +
scale_x_continuous(labels=percent_format(accuracy=1,suffix="")) +
labs(title = titleText,x='Percentage of Educators and Students in Washington Public Schools (%)',
y='Race and Ethnicity',caption = sourceText)
D2Plot
#create final plot
D2Plot = base +
theme_minimal() + theme(panel.spacing = unit(2, "lines"), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
geom_bar(stat = "identity") + facet_grid(~Role) +
geom_text(size=3,aes(label=100*round(Percent,3)),nudge_x=0.05) +
scale_x_continuous(labels=percent_format(accuracy=1,suffix="")) +
labs(title = titleText,x='Percentage of Educators and Students in Washington Public Schools (%)',
y='Race and Ethnicity',caption = sourceText)
D2Plot
#create final plot
D2Plot = base +
theme_minimal() + theme(panel.spacing = unit(2, "lines"), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
geom_bar(stat = "identity") + facet_grid(~Role) +
geom_text(size=3,aes(label=100*round(Percent,3)),nudge_x=0.05) +
scale_x_continuous(labels=percent_format(accuracy=1,suffix="")) +
labs(title = titleText,x='Percentage of Educators and Students in Washington Public Schools (%)',
y='Race and Ethnicity',caption = sourceText)
D2Plot
#save plot
saveRDS(D2Plot, file = "D2Plot.rds")
PctLabels=paste0(round(`MaxTeacherPercent`,2),'%')
PctLabels=paste0(round(MaxTeacherPercent,2),'%')
PctLabels=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
#clean memory
rm(list = ls())
#load data
D1data=read.csv("D1_Data.csv")
#create base plot
base = ggplot(data = D1data,
aes(x = `DemographicCategory`,
y = `MaxTeacherCount`))
#plot formatting
titleText='Washington Educators Are Overwhelmingly White'
sourceText='Source: Washington Office of Superindentent of Public Instruction 2020-2021 School Year (self reported data)'
PctLabels=paste0(round(D1data$`MaxTeacherPercent`,2),'%')
D1data=D1data[order(D1data$`MaxTeacherCount`),]
DemographicCategoryOrd <- as.factor(D1data[order(D1data$`MaxTeacherCount`),]$`DemographicCategory`)
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1), plot.background = element_rect(fill='white', colour = 'white'), panel.background = element_rect(fill='white', colour = 'white'), plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) + scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),
limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) + scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = PctLabels))
D1Plot
readRDS("D2Plot.rds")
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1),
plot.background = element_rect(fill='white', colour = 'white'),
panel.background = element_rect(fill='white', colour = 'white'),
plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) +
scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) +
scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = round(`MaxTeacherPercent`,2),'%'))
D1Plot
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(`MaxTeacherPercent`,2),'%'))
D1Plot
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(`MaxTeacherPercent`,2),'%'),)
D1Plot
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(`MaxTeacherPercent`,2),'%')
D1Plot
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(`MaxTeacherPercent`,2),'%'))
D1Plot
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(MaxTeacherPercent,2),'%'))
D1Plot
#create final plot
D1Plot = base + geom_bar(fill ="#b4cde3",
stat = 'identity') +
theme(axis.text.x=element_text(angle = 45, hjust = 1),
plot.background = element_rect(fill='white', colour = 'white'),
panel.background = element_rect(fill='white', colour = 'white'),
plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0.5)) +
labs(title=titleText,
x ='Race and Ethnicity',
y = 'Educator Count',
caption = sourceText) +
scale_y_continuous(breaks=c(0,10000,20000,30000,40000,50000,60000),limits = c(0, 65000),
labels=unit_format(suffix = '', big.mark = ',')) +
scale_x_discrete(limits=DemographicCategoryOrd) +
geom_text(vjust=0, size = 3, aes(y = `MaxTeacherCount`, label = paste0(round(MaxTeacherPercent,2),'%')))
D1Plot
#save plot
saveRDS(D1Plot, file = "D1Plot.rds")
readRDS("D1Plot.rds")
# clean memory
rm(list = ls())
#load data
df3 <- read_csv("Data/D2-FinalData.csv")
#load data
df3 <- read_csv("Data/D3-FinalData.csv")
#clean & set up data
df3 <- df3 %>% mutate(COUNTYFP = sprintf("%03d", COUNTYFP))
df3$COUNTYFP = as.character(zerodata$COUNTYFP)
#clean & set up data
df3 <- df3 %>% mutate(COUNTYFP = sprintf("%03d", COUNTYFP))
# clean memory
rm(list = ls())
#load data
df3 <- read_csv("Data/D3-FinalData.csv")
#clean & set up data
df3 <- df3 %>% mutate(COUNTYFP = sprintf("%03d", COUNTYFP))
df3$COUNTYFP = as.character(zerodata$COUNTYFP)
df3$COUNTYFP = as.character(df3$COUNTYFP)
df3 <- subset(zerodata, DemographicCategory == "White")
df3 <- subset(df3, DemographicCategory == "White")
?`str
?`str
?str()
df3$cluster=as.factor(res.pam$clustering)
df3 <- subset(df3, DemographicCategory == "White")
res.pam=cluster::pam(x=df3$TeacherPct,
k = 3,
cluster.only = F)
df3$cluster=as.factor(res.pam$clustering)
df3a$cluster=factor(df3$cluster,
levels=c(1,3,2),
labels=c("Low","Mid","High"),
ordered=T)
df3$cluster=factor(df3$cluster,
levels=c(1,3,2),
labels=c("Low","Mid","High"),
ordered=T)
#save data frame
write.csv(df3,"D3_Data.csv",row.names = F)
#load data
D3data=read.csv("D3_Data.csv")
